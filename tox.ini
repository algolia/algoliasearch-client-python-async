[tox]
envlist =
    py34
    py35
    coverage
skip_missing_interpreters = True

[testenv]
deps =
    fake-factory
    nose2
passenv =
    ALGOLIA*
    APPENGINE*
    TRAVIS*
commands = nose2

[testenv:coverage]
basepython = python3.4
deps =
    fake-factory
    nose2
    coverage
passenv =
    ALGOLIA*
commands =
    coverage run --branch --source=algoliasearchasync -m nose2
    coverage report

[testenv:coveralls-py3]
basepython = python3.4
deps =
    fake-factory
    nose2
    coverage
    coveralls
passenv =
    ALGOLIA*
    TRAVIS*
commands =
    coverage run --branch --source=algoliasearchasync -m nose2
    coverage report
    coveralls
